# SMMV-Collab フレームワーク（ライト版）
## 人間と生成AIの協働のための設計原則

### 1. フレームワークの目的
- 人間とAIの効率的な協働を支援する設計基盤の提供
- 拡張性、柔軟性、及び**継続的改善**を重視したシステム構築
- モジュール性の最適化によるAIコード生成精度の向上と**フィードバックループの確立**

### 2. 基本構造（SOLID + 構造主義）

#### レイヤー構造
1. **プレゼンテーション層** - UI、表示ロジック
2. **アプリケーション層** - ユースケース、フロー管理
3. **ドメイン層** - ビジネスロジック、エンティティ
4. **インフラストラクチャ層** - 外部連携、データアクセス

#### 主要原則の適用
- **単一責任**: 各モジュールは明確な単一の役割を持つ
- **開放/閉鎖**: 既存コードを修正せずに機能拡張可能な設計
- **依存性逆転**: 上位モジュールは抽象インターフェースに依存
- **明示的な契約**: 各レイヤー間のインタフェースで明確な契約を定義する

### 3. AIとの協働ポイント
- 一貫した構造化によりAIコード生成の精度向上
- 明確なモジュール境界と責任範囲の定義
- AIサービス特化モジュールの配置（`AIHelper`、`AIStrategy`等）
- **対話的フィードバックの組み込み**: 開発サイクルにAIとの対話型レビューを追加し、迅速な修正・改善を促進

### 4. 効果的なAIプロンプト例
```
「Applicationレイヤーに、注文確認プロセスを処理するUseCaseクラスをSOLID原則および明示的な契約に準拠して実装してください。OrderRepositoryとPaymentGatewayに依存します。エラー処理とログ出力も含めてください。」
```

### 5. ディレクトリ構成例
```
src/
├── presentation/      # UI、コントローラー
├── application/       # ユースケース、DTOs
├── domain/            # エンティティ、値オブジェクト
├── infrastructure/    # 外部連携、データアクセス
├── shared/            # 共通ユーティリティ
└── tests/             # 自動テスト、検証スクリプト
```

### 6. AIとの開発ワークフロー
1. **ドメインモデル設計**
2. **インターフェース定義と明示的な契約の策定**
3. **ユースケース実装**
   - AIによる初期コード生成
   - 人間開発者によるレビューと改善の反復プロセスを実施
4. **インフラストラクチャ層の実装**
5. **プレゼンテーション層の組み立て**
6. **自動テストとフィードバックループによる検証**
7. **定期的なレビューと改善のサイクル**

### 7. メタ原則
- **構造化**: 全ての要素に明確な位置づけ
- **モジュール化**: 適切な粒度での機能分割
- **AI協調**: AIが理解しやすい構造設計
- **一貫性**: 統一された設計原則の適用
- **拡張性**: 変更に対する柔軟性の確保
- **フィードバックループ**: 開発プロセスにおける定期的なフィードバックと改善を実施

この改訂版により、人間開発者と生成AIがより効率的に協働し、
品質・拡張性に優れたソフトウェアを継続的に構築・改善できる設計基盤が整います。
